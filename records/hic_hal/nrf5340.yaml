common:
    target:
        - cortex-m33
    core:
        - Cortex-M33
    macros:
        - INTERFACE_NRF5340
        - NRF5340_XXAA_APPLICATION
        - DAPLINK_HIC_ID=0x6E005340  # DAPLINK_HIC_ID_NRF5340
        - OS_CLOCK=64000000
        - __DAPLINK
    includes:
        - source/hic_hal/nordic/nrf5340
        - source/hic_hal/nordic/nrf5340/nrfx
        - source/hic_hal/nordic/nrf5340/nrfx/soc
        - source/hic_hal/nordic/nrf5340/nrfx/drivers
        - source/hic_hal/nordic/nrf5340/nrfx/drivers/include
        - source/hic_hal/nordic/nrf5340/nrfx/hal
        - source/hic_hal/nordic/nrf5340/nrfx/mdk
        - source/cmsis-core
    sources:
        hic_hal:
            - source/hic_hal/nordic/nrf5340/gpio.c
            - source/hic_hal/nordic/nrf5340/read_uid.c
            - source/hic_hal/nordic/nrf5340/sdk.c
            - source/hic_hal/nordic/nrf5340/uart.c
            - source/hic_hal/nordic/nrf5340/flash.c
            - source/hic_hal/nordic/nrf5340/usb_config.c
            - source/hic_hal/nordic/nrf52820/usbd_nRF528xx.c
            - source/hic_hal/nordic/nrf5340/nrfx/mdk/system_nrf5340_application.c
            - source/hic_hal/nordic/nrf5340/nrfx/drivers/src

tool_specific:
    uvision:
        misc:
            ld_flags:
                - --predefine="-I..\..\..\source\hic_hal\nordic\nrf5340"
        sources:
            hic_hal:
                - source/hic_hal/nordic/nrf5340/arm_startup_nrf5340_application.s
    armcc:
        sources:
            hic_hal:
                - source/hic_hal/nordic/nrf5340/arm_startup_nrf5340_application.s
    armclang:
        misc:
            common_flags:
                - -mfpu=none
        sources:
            hic_hal:
                - source/hic_hal/nordic/nrf5340/arm_startup_nrf5340_application.s
    gcc_arm:
        sources:
            hic_hal:
                - source/hic_hal/nordic/nrf5340/gcc_startup_nrf5340_application.S
        misc:
            c_flags:
                - -march=armv8-m.main+fp+dsp
                - -mfloat-abi=hard
                - -mfpu=fpv5-sp-d16
            ld_flags:
                - -march=armv8-m.main+fp+dsp
                - -mfloat-abi=hard
                - -mfpu=fpv5-sp-d16
